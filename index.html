<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Manifest PWA -->
<link rel="manifest" href="manifest.json">

<!-- Couleur du th√®me (barre d'adresse sur mobile) -->
<meta name="theme-color" content="#009900">

<!-- Apple Touch Icons pour iOS -->
<link rel="apple-touch-icon" href="images/icon-152x152.png">
<link rel="apple-touch-icon" sizes="72x72" href="images/icon-72x72.png">
<link rel="apple-touch-icon" sizes="96x96" href="images/icon-96x96.png">
<link rel="apple-touch-icon" sizes="128x128" href="images/icon-128x128.png">
<link rel="apple-touch-icon" sizes="144x144" href="images/icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="images/icon-152x152.png">
<link rel="apple-touch-icon" sizes="192x192" href="images/icon-192x192.png">
<link rel="apple-touch-icon" sizes="384x384" href="images/icon-384x384.png">
<link rel="apple-touch-icon" sizes="512x512" href="images/icon-512x512.png">

<!-- Configuration iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="KOP SUD ASSE">

<!-- Configuration Windows -->
<meta name="msapplication-TileImage" content="images/icon-144x144.png">
<meta name="msapplication-TileColor" content="#009900">

<!-- Description pour SEO et partage -->
<meta name="description" content="Application officielle du Kop Sud de l'AS Saint-√âtienne - Green Angels 92. Suivez les matchs, les chants et rejoignez la communaut√© des supporters st√©phanois !">
    <title>KOP SUD ASSE - Accueil Ultras</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header>
        <nav id="main-nav">
            <a href="index.html" class="nav-logo">KOP SUD | Green Angels 92</a>
            <ul>
                <li><a href="index.html" class="nav-button">Accueil</a></li>
                <li><a href="photos.html" class="nav-button">Vos Photos</a></li>
                <li><a href="chant.html" class="nav-button">Chants</a></li>
                <li><a href="calendrier.html" class="nav-button">Matchs & Compte √† Rebours</a></li>
                <li><a href="m√©t√©o.html" class="nav-button">M√©t√©o du Chaudron</a></li>
            </ul>
        </nav>
    </header>

    <main class="page-content" style="padding: 0;">
        <div class="hero-banner background-kop-sud">
            <div class="hero-content">
                <h1>KOP SUD</h1>
                <p>LA TRIBUNE DE LA PASSION.<br>PARTIZANS D'UN JOUR, PARTIZANS POUR TOUJOURS !</p>
                <a href="photos.html" class="cta-button">VIBRER EN PHOTOS</a>
            </div>
        </div>

        <section class="section-intro">
            <h2 class="section-title">PLUS QU'UNE TRIBUNE, UNE FAMILLE</h2>
            <p>Depuis 1992, les Green Angels animent la Jean Snella, faisant du Kop Sud le c≈ìur vibrant de Geoffroy-Guichard. Ce site est le reflet de notre ferveur, de nos chants et de nos souvenirs inoubliables.</p>
        </section>
        <section class="section-cards">
            <a href="photos.html" class="card-link">
                <div class="card" style="background-image: url('images/kopsud.jpg');">
                    <div class="card-overlay">
                        <h3>Galerie Photos</h3>
                        <p>Vos plus beaux clich√©s du Chaudron.</p>
                        <span class="card-button">Voir les photos</span>
                    </div>
                </div>
            </a>
            
            <a href="chant.html" class="card-link">
                <div class="card" style="background-image: url('images/chant.jpg');">
                    <div class="card-overlay">
                        <h3>Nos Chants</h3>
                        <p>Les paroles pour chanter tous ensemble.</p>
                        <span class="card-button">D√©couvrir les chants</span>
                    </div>
                </div>
            </a>
        
            <a href="calendrier.html" class="card-link">
                <div class="card" style="background-image: url('images/cal.jpg');">
                    <div class="card-overlay">
                        <h3>Prochains Matchs</h3>
                        <p>Rendez-vous au stade, J-... !</p>
                        <span class="card-button">Acc√©der au calendrier</span>
                    </div>
                </div>
            </a>

             <a href="m√©t√©o.html" class="card-link">
                <div class="card" style="background-image: url('images/saint-etienne.jpg');">
                    <div class="card-overlay">
                        <h3>La m√©t√©o</h3>
                        <p>Fera t-il beau le jour du match?</p>
                        <span class="card-button">D√©couvrir la m√©t√©o</span>
                    </div>
                </div>
            </a>
        </section>
    </main>
    
    <footer>
        <p>¬© 2025 Kop Sud ASSE - R√©alis√© par un fervent supporter. PARTIZANS D'UN JOUR, PARTIZANS POUR TOUJOURS !</p>
    </footer>
    <script>
// ===== ENREGISTREMENT DU SERVICE WORKER =====
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/Kop_Sud/service-worker.js')
      .then((registration) => {
        console.log('‚úÖ Service Worker enregistr√© avec succ√®s:', registration.scope);
      })
      .catch((error) => {
        console.log('‚ùå √âchec de l\'enregistrement du Service Worker:', error);
      });
  });
}

// ===== BOUTON D'INSTALLATION PWA =====
let deferredPrompt;
const installButton = document.createElement('button');
installButton.id = 'installPWA';
installButton.innerHTML = 'üì± Installer l\'app KOP SUD';
installButton.style.cssText = `
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: linear-gradient(135deg, #009900 0%, #006600 100%);
  color: white;
  border: none;
  padding: 15px 25px;
  border-radius: 50px;
  font-weight: bold;
  font-size: 1em;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0, 153, 0, 0.4);
  z-index: 9999;
  display: none;
  transition: all 0.3s ease;
  font-family: Arial, sans-serif;
`;

// Effet hover
installButton.addEventListener('mouseenter', () => {
  installButton.style.transform = 'translateY(-3px)';
  installButton.style.boxShadow = '0 6px 20px rgba(0, 153, 0, 0.5)';
});

installButton.addEventListener('mouseleave', () => {
  installButton.style.transform = 'translateY(0)';
  installButton.style.boxShadow = '0 4px 15px rgba(0, 153, 0, 0.4)';
});

document.body.appendChild(installButton);

// √âv√©nement beforeinstallprompt
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installButton.style.display = 'block';
  console.log('üí° Bouton d\'installation PWA affich√©');
});

// Clic sur le bouton d'installation
installButton.addEventListener('click', async () => {
  if (!deferredPrompt) {
    console.log('‚ùå Aucune demande d\'installation en attente');
    return;
  }
  
  deferredPrompt.prompt();
  const { outcome } = await deferredPrompt.userChoice;
  
  if (outcome === 'accepted') {
    console.log('‚úÖ L\'utilisateur a accept√© l\'installation');
  } else {
    console.log('‚ùå L\'utilisateur a refus√© l\'installation');
  }
  
  deferredPrompt = null;
  installButton.style.display = 'none';
});

// √âv√©nement appinstalled
window.addEventListener('appinstalled', () => {
  console.log('üéâ PWA install√©e avec succ√®s !');
  installButton.style.display = 'none';
  deferredPrompt = null;
  alert('üéâ Application KOP SUD ASSE install√©e avec succ√®s !\n\nVous pouvez maintenant y acc√©der depuis votre √©cran d\'accueil.');
});

// D√©tecter si l'app est d√©j√† install√©e
if (window.matchMedia('(display-mode: standalone)').matches) {
  console.log('‚úÖ Application en mode standalone (d√©j√† install√©e)');
  installButton.style.display = 'none';
}
</script>
</body>
</html>